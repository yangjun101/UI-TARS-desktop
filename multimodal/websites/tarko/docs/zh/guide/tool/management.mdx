# Tool ç®¡ç†

è¿‡æ»¤å’Œç»„ç»‡ Agent å·¥å…·èƒ½åŠ›ï¼Œé’ˆå¯¹ç‰¹å®šä»»åŠ¡å’Œæ€§èƒ½è¿›è¡Œä¼˜åŒ–ã€‚

## æ¦‚è¿°

Tarko åŒ…å« **32 ä¸ªå†…ç½®å·¥å…·**ï¼Œåˆ†ä¸º 4 ä¸ªç±»åˆ«ï¼š**general** (1)ã€**browser** (18)ã€**filesystem** (11) å’Œ **commands** (2)ã€‚Tool ç®¡ç†å…è®¸ä½ ç²¾ç¡®æ§åˆ¶å“ªäº›å·¥å…·å¯ç”¨ï¼Œä»¥ä¼˜åŒ–æ€§èƒ½å’Œèšç„¦èƒ½åŠ›ã€‚

## å¿«é€Ÿå¼€å§‹

```bash
# ä»…åŒ…å«æµè§ˆå™¨å·¥å…·ï¼ˆ18 ä¸ªå·¥å…·ï¼‰
tarko --tool.include browser

# åŒ…å«æ–‡ä»¶ç³»ç»Ÿä½†æ’é™¤æ–‡ä»¶ç¼–è¾‘
tarko --tool.include filesystem --tool.exclude edit_file

# å¤šä¸ªç±»åˆ«å¹¶æ’é™¤ç‰¹å®šå·¥å…·
tarko --tool.include "browser,filesystem" --tool.exclude "run_command,run_script"
```

## CLI Tool è¿‡æ»¤

### å¯ç”¨é€‰é¡¹

| é€‰é¡¹ | æè¿° | ç¤ºä¾‹ |
|------|------|------|
| `--tool.include <patterns>` | åŒ…å«åŒ¹é…æ¨¡å¼çš„å·¥å…· | `--tool.include browser` |
| `--tool.exclude <patterns>` | æ’é™¤åŒ¹é…æ¨¡å¼çš„å·¥å…· | `--tool.exclude delete` |

### æ¨¡å¼åŒ¹é…è§„åˆ™

- **å­å­—ç¬¦ä¸²åŒ¹é…**ï¼šä½¿ç”¨ `string.includes()` å®ç°é«˜æ€§èƒ½
- **å¤§å°å†™æ•æ„Ÿ**ï¼šæ¨¡å¼å¿…é¡»åŒ¹é…ç¡®åˆ‡çš„å¤§å°å†™ï¼ˆ`browser` è€Œä¸æ˜¯ `Browser`ï¼‰
- **æ‰§è¡Œé¡ºåº**ï¼šå…ˆåº”ç”¨åŒ…å«è¿‡æ»¤å™¨ï¼Œç„¶ååº”ç”¨æ’é™¤è¿‡æ»¤å™¨
- **åˆ†ç±»åç§°**ï¼šä½¿ç”¨åˆ†ç±»åç§°è¿›è¡Œæ‰¹é‡æ“ä½œ

### å¸¸è§ç”¨ä¾‹

#### ä»… Web è‡ªåŠ¨åŒ–
```bash
# æµè§ˆå™¨å·¥å…· + ç½‘ç»œæœç´¢ï¼ˆ19 ä¸ªå·¥å…·ï¼‰
tarko --tool.include "browser,web_search"
```

#### å®‰å…¨æ–‡ä»¶æ“ä½œ
```bash
# æ–‡ä»¶ç³»ç»Ÿä½†ä¸æ‰§è¡Œå‘½ä»¤ï¼ˆ11 ä¸ªå·¥å…·ï¼‰
tarko --tool.include filesystem --tool.exclude "run_command,run_script"
```

#### åªè¯» Agent
```bash
# ä¸å…è®¸æ–‡ä»¶å†™å…¥æˆ–å‘½ä»¤æ‰§è¡Œ
tarko --tool.exclude "write_file,edit_file,create_directory,move_file,run_command,run_script"
```

#### æœ€å°åŒ– Agent
```bash
# ä»…åŸºæœ¬åªè¯»å·¥å…·
tarko --tool.include "read_file,read_multiple_files,list_directory,browser_screenshot,web_search"
```

## ç¼–ç¨‹å¼ Tool ç®¡ç†

### Agent é…ç½®

```typescript
import { Agent } from '@tarko/agent';

const agent = new Agent({
  tool: {
    include: ['browser', 'filesystem'],
    exclude: ['browser_get_markdown', 'run_command']
  }
});
```

### é…ç½®æ–‡ä»¶

```json
{
  "tool": {
    "include": ["browser", "filesystem"],
    "exclude": ["delete", "remove"]
  }
}
```

### Tool æ³¨å†Œ

```typescript
import { Agent, Tool } from '@tarko/agent';

const agent = new Agent();

// æ³¨å†Œè‡ªå®šä¹‰å·¥å…·
const customTool = new Tool({
  id: 'custom_tool',
  description: 'æˆ‘çš„è‡ªå®šä¹‰å·¥å…·',
  parameters: {
    type: 'object',
    properties: {
      input: { type: 'string', description: 'è¾“å…¥å‚æ•°' }
    }
  },
  function: async (params) => {
    return `å¤„ç†ç»“æœ: ${params.input}`;
  }
});

agent.registerTool(customTool);

// è·å–æ‰€æœ‰å¯ç”¨å·¥å…·
const tools = agent.getTools();
console.log(`å¯ç”¨å·¥å…·: ${tools.length}`);
```

## Tool åˆ†ç±»

### å†…ç½®åˆ†ç±»

#### ğŸ“¦ general (1 ä¸ªå·¥å…·)
- `web_search` - æœç´¢ç½‘ç»œä¿¡æ¯

#### ğŸ“¦ browser (18 ä¸ªå·¥å…·)
- `browser_click` - ç‚¹å‡»é¡µé¢å…ƒç´ 
- `browser_close_tab` - å…³é—­æµè§ˆå™¨æ ‡ç­¾é¡µ
- `browser_evaluate` - æ‰§è¡Œ JavaScript ä»£ç 
- `browser_form_input_fill` - å¡«å†™è¡¨å•è¾“å…¥
- `browser_get_clickable_elements` - è·å–å¯ç‚¹å‡»å…ƒç´ 
- `browser_get_markdown` - æå–é¡µé¢å†…å®¹ä¸º markdown
- `browser_go_back` - åœ¨å†å²è®°å½•ä¸­åé€€
- `browser_go_forward` - åœ¨å†å²è®°å½•ä¸­å‰è¿›
- `browser_hover` - æ‚¬åœåœ¨å…ƒç´ ä¸Š
- `browser_navigate` - å¯¼èˆªåˆ° URL
- `browser_new_tab` - æ‰“å¼€æ–°æµè§ˆå™¨æ ‡ç­¾é¡µ
- `browser_press_key` - æŒ‰ä¸‹é”®ç›˜æŒ‰é”®
- `browser_read_links` - æå–æ‰€æœ‰é¡µé¢é“¾æ¥
- `browser_screenshot` - æˆªå–é¡µé¢æˆªå›¾
- `browser_scroll` - æ»šåŠ¨é¡µé¢å†…å®¹
- `browser_select` - é€‰æ‹©ä¸‹æ‹‰é€‰é¡¹
- `browser_switch_tab` - åœ¨æ ‡ç­¾é¡µé—´åˆ‡æ¢
- `browser_tab_list` - åˆ—å‡ºæ‰€æœ‰æ‰“å¼€çš„æ ‡ç­¾é¡µ

#### ğŸ“¦ filesystem (11 ä¸ªå·¥å…·)
- `create_directory` - åˆ›å»ºæ–°ç›®å½•
- `directory_tree` - è·å–ç›®å½•ç»“æ„
- `edit_file` - ç¼–è¾‘ç°æœ‰æ–‡ä»¶
- `get_file_info` - è·å–æ–‡ä»¶å…ƒæ•°æ®
- `list_allowed_directories` - åˆ—å‡ºå¯è®¿é—®ç›®å½•
- `list_directory` - åˆ—å‡ºç›®å½•å†…å®¹
- `move_file` - ç§»åŠ¨æˆ–é‡å‘½åæ–‡ä»¶
- `read_file` - è¯»å–æ–‡ä»¶å†…å®¹
- `read_multiple_files` - ä¸€æ¬¡è¯»å–å¤šä¸ªæ–‡ä»¶
- `search_files` - æŒ‰æ¨¡å¼æœç´¢æ–‡ä»¶
- `write_file` - å†™å…¥å†…å®¹åˆ°æ–‡ä»¶

#### ğŸ“¦ commands (2 ä¸ªå·¥å…·)
- `run_command` - æ‰§è¡Œ shell å‘½ä»¤
- `run_script` - è¿è¡Œè„šæœ¬å’Œè§£é‡Šå™¨

## æ•…éšœæ’é™¤

### è°ƒè¯• Tool è¿‡æ»¤

```bash
# æŸ¥çœ‹å“ªäº›å·¥å…·è¢«è¿‡æ»¤
tarko --debug --tool.include browser
# è¾“å‡º: "åº”ç”¨åŒ…å«è¿‡æ»¤å™¨ï¼Œæ¨¡å¼ [browser]ï¼Œ32/32 å·¥å…·ä¸­åŒ¹é…äº† 18 ä¸ª"
```

### å¸¸è§é—®é¢˜

#### æ²¡æœ‰å¯ç”¨å·¥å…·
```bash
# ä½¿ç”¨æ›´å®½æ³›çš„æ¨¡å¼
tarko --tool.exclude "run_command" # æ’é™¤ç‰¹å®šå·¥å…·è€Œä¸æ˜¯ä¸¥æ ¼åŒ…å«
```

#### æ¨¡å¼ä¸å·¥ä½œ
- éªŒè¯å¤§å°å†™æ•æ„Ÿæ€§ï¼ˆ`browser` è€Œä¸æ˜¯ `Browser`ï¼‰
- ä½¿ç”¨ç¡®åˆ‡çš„å·¥å…·åç§°ï¼ˆ`browser_click` è€Œä¸æ˜¯ `click`ï¼‰
- æ£€æŸ¥åˆ†ç±»åç§°ï¼š`browser`ã€`filesystem`ã€`commands`ã€`general`

#### Tool åŠ è½½é”™è¯¯
```typescript
try {
  const agent = new Agent({
    tool: { include: ['invalid_tool'] }
  });
} catch (error) {
  console.error('å·¥å…·åŠ è½½å¤±è´¥:', error.message);
  // å›é€€åˆ°é»˜è®¤å·¥å…·
}
```

## æ€§èƒ½è€ƒè™‘

### è¿‡æ»¤å™¨å®ç°

- **å¤æ‚åº¦**ï¼šO(nÃ—m) å…¶ä¸­ n=å·¥å…·æ•°ï¼Œm=æ¨¡å¼æ•°
- **åŒ¹é…**ï¼šç®€å•çš„ `string.includes()` å®ç°æœ€ä½³é€Ÿåº¦
- **æ—¥å¿—**ï¼šè¯¦ç»†çš„è¿‡æ»¤æ“ä½œæ—¥å¿—ç”¨äºè°ƒè¯•
- **å…¼å®¹æ€§**ï¼šå®Œå…¨å‘åå…¼å®¹

### ç¤ºä¾‹

#### ä»…æµè§ˆå™¨ Agent
```bash
tarko --tool.include browser
# ç»“æœï¼š18 ä¸ªæµè§ˆå™¨å·¥å…·ï¼ˆbrowser_clickã€browser_navigate ç­‰ï¼‰
```

#### æ–‡ä»¶æ“ä½œä½†ä¸ç¼–è¾‘
```bash
tarko --tool.include filesystem --tool.exclude edit_file
# ç»“æœï¼š10 ä¸ªæ–‡ä»¶ç³»ç»Ÿå·¥å…·ï¼ˆread_fileã€write_fileã€list_directory ç­‰ï¼‰
```

#### ç‰¹å®šå·¥å…·æ’é™¤
```bash
tarko --tool.include "browser,filesystem" --tool.exclude "browser_get_markdown,run_command"
# ç»“æœï¼š28 ä¸ªå·¥å…·ï¼ˆ17 ä¸ªæµè§ˆå™¨ + 11 ä¸ªæ–‡ä»¶ç³»ç»Ÿï¼Œæ’é™¤ markdown å’Œå‘½ä»¤ï¼‰
```

## ä¸‹ä¸€æ­¥

- äº†è§£ [Tool å¼€å‘](/guide/tool/basic) æ¥åˆ›å»ºè‡ªå®šä¹‰å·¥å…·
- æ¢ç´¢ [Tool Call Engine](/guide/tool/tool-call-engine) çš„æ‰§è¡Œä¼˜åŒ–

{/* Placeholder: æ·»åŠ å·¥å…·è¿‡æ»¤æµç¨‹å›¾ */}
{/* Placeholder: æ·»åŠ æ€§èƒ½å¯¹æ¯”å›¾è¡¨ */}
